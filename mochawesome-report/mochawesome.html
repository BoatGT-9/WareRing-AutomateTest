<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:1,&quot;passes&quot;:0,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2024-02-29T18:38:56.038Z&quot;,&quot;end&quot;:&quot;2024-02-29T18:38:57.506Z&quot;,&quot;duration&quot;:1468,&quot;testsRegistered&quot;:1,&quot;passPercent&quot;:0,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;eef5f046-2fac-45aa-b42e-3c80662dd1e9&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\Auth\\Verifyemail.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\Auth\\Verifyemail.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ca522a95-b674-4cd5-b08a-af5bcbd03ce7&quot;,&quot;title&quot;:&quot;MailSlurp Example&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Verify Email using MailSlurp&quot;,&quot;fullTitle&quot;:&quot;MailSlurp Example Verify Email using MailSlurp&quot;,&quot;duration&quot;:1364,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// สร้างที่อยู่อีเมลชั่วคราว\ncy.request({\n  method: \&quot;POST\&quot;,\n  url: \&quot;https://api.mailslurp.com/inboxes\&quot;,\n  headers: {\n    \&quot;x-api-key\&quot;: API_KEY // ใส่ API Key ของคุณที่นี่\n  }\n}).then(response =&gt; {\n  const emailAddress = response.body.emailAddress;\n  // ทำบางอย่างเช่นลงทะเบียนหรือเรียกใช้งาน\n  cy.visit(BASE_URL);\n  cy.get(`.border-r-\\\\[\\\\#20476b\\\\]`).click();\n  cy.get(\&quot;div:nth-child(1) &gt; .relative &gt; #username\&quot;).type(`userName${new Date().getSeconds()}`);\n  cy.get(\&quot;div:nth-child(1) &gt; .relative &gt; #firstName\&quot;).type(_User.user1.firstName);\n  cy.get(\&quot;div:nth-child(1) &gt; .relative &gt; #lastName\&quot;).type(_User.user1.lastName);\n  cy.get(\&quot;div:nth-child(1) &gt; .relative &gt; #email\&quot;).type(`emailTest${new Date().getSeconds()}@test.com`);\n  cy.get(\&quot;div:nth-child(1) &gt; .relative &gt; #password\&quot;).type(_User.user1.password);\n  cy.get(\&quot;div:nth-child(1) &gt; .relative &gt; #confirm_password\&quot;).type(_User.user1.confirmPassword);\n  cy.get(\&quot;#accept-term-btn\&quot;).click();\n  cy.wait(2000);\n  cy.get(\&quot;div:nth-child(1) &gt; #setup-user-submit\&quot;).click();\n  cy.contains(\&quot;Creating your account...\&quot;).should(\&quot;exist\&quot;);\n  cy.wait(3000);\n  cy.contains(\&quot;Created your account and Please verify your email\&quot;).should(\&quot;exist\&quot;);\n  // รอรับอีเมล\n  cy.wait(2000); // รออีเมล 10 วินาที\n  // ดึงอีเมลล่าสุด\n  cy.request({\n    method: \&quot;GET\&quot;,\n    url: `https://api.mailslurp.com/inboxes/${emailAddress}/`,\n    headers: {\n      \&quot;x-api-key\&quot;: API_KEY\n    },\n    failOnStatusCode: false\n  }).then(emailsResponse =&gt; {\n    cy.log(\&quot;emailResponse\&quot;, emailsResponse);\n    const latestEmailID = emailsResponse.body[0]; // เลือกอีเมลล่าสุดจากอาเรย์ emailsResponse.body\n    cy.log(\&quot;latestEmail\&quot;, latestEmailID);\n    if (latestEmailID) {\n      // ตรวจสอบว่ามี latestEmail หรือไม่ก่อนนำไปใช้งาน\n      cy.request({\n        method: \&quot;GET\&quot;,\n        url: `https://api.mailslurp.com/emails/${emailAddress}/${latestEmailID}`,\n        // url: `https://api.mailslurp.com/emails/22619953-0872-45d2-ba50-c745d0920af4@mailslurp.net`,\n        // url: `https://api.mailslurp.com/emails/${inboxId}/${emailId}`,\n        headers: {\n          \&quot;x-api-key\&quot;: API_KEY\n        }\n        // failOnStatusCode: false,\n      }).then(emailsResponse =&gt; {\n        cy.log(\&quot;emailResponse\&quot;, emailsResponse);\n        const latestEmail = emailsResponse.body[0];\n        if (latestEmail &amp;&amp; latestEmail.body) {\n          const emailHtmlContent = latestEmail.body;\n          const linkRegex = /&lt;a href=\&quot;(http:\\/\\/localhost:3000\\/auth\\/email\\/)\&quot;&gt;Verify Email&lt;\\/a&gt;/;\n          const linkMatch = emailHtmlContent.match(linkRegex);\n          if (linkMatch &amp;&amp; linkMatch.length &gt; 0) {\n            const verifyEmailLink = linkMatch[1]; // ตำแหน่งที่ 1 ใน linkMatch เป็น URL ที่ต้องการ\n            cy.log(\&quot;Verify Email Link:\&quot;, verifyEmailLink);\n            // คลิกลิงก์ \&quot;Verify Email\&quot; เพื่อยืนยัน\n            cy.visit(verifyEmailLink);\n          } else {\n            cy.log(\&quot;Verify Email link not found in email content.\&quot;);\n          }\n        } else {\n          cy.log(\&quot;Latest email or email body not found.\&quot;);\n        }\n      });\n    } else {\n      // กรณีที่ไม่มี latestEmail\n      cy.log(\&quot;Latest email not found.\&quot;);\n    }\n  });\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed on:\n\nhttps://api.mailslurp.com/inboxes\n\nThe response we received from your web server was:\n\n  &gt; 426: Upgrade Required\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: https://api.mailslurp.com/inboxes\nHeaders: {\n  \&quot;Connection\&quot;: \&quot;keep-alive\&quot;,\n  \&quot;x-api-key\&quot;: \&quot;b1a03a68dcbc3d30c44e6ac4fa4f3139e46bc2d7c03b78163d3c5b33b5688363\&quot;,\n  \&quot;user-agent\&quot;: \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/13.6.4 Chrome/114.0.5735.289 Electron/25.8.4 Safari/537.36\&quot;,\n  \&quot;accept\&quot;: \&quot;*/*\&quot;,\n  \&quot;accept-encoding\&quot;: \&quot;gzip, deflate\&quot;,\n  \&quot;content-length\&quot;: 0\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 426 - Upgrade Required\nHeaders: {\n  \&quot;date\&quot;: \&quot;Thu, 29 Feb 2024 18:38:59 GMT\&quot;,\n  \&quot;content-type\&quot;: \&quot;text/plain;charset=UTF-8\&quot;,\n  \&quot;content-length\&quot;: \&quot;892\&quot;,\n  \&quot;connection\&quot;: \&quot;keep-alive\&quot;,\n  \&quot;vary\&quot;: \&quot;Origin, Access-Control-Request-Method, Access-Control-Request-Headers\&quot;,\n  \&quot;x-xss-protection\&quot;: \&quot;1; mode=block\&quot;,\n  \&quot;referrer-policy\&quot;: \&quot;same-origin\&quot;,\n  \&quot;strict-transport-security\&quot;: \&quot;max-age=63072000; includeSubdomains; preload\&quot;,\n  \&quot;x-content-type-options\&quot;: \&quot;nosniff\&quot;,\n  \&quot;content-security-policy\&quot;: \&quot;default-src https: &#x27;self&#x27; app.mailslurp.com *.mailslurp.com *.mailslurp.link *.mailslurp.dev http://localhost:3000; object-src none; frame-ancestors &#x27;self&#x27; app.mailslurp.com *.mailslurp.com *.mailslurp.link *.mailslurp.dev http://localhost:3000; img-src * data: &#x27;unsafe-inline&#x27;; style-src * data: &#x27;unsafe-inline&#x27;;\&quot;,\n  \&quot;cache-control\&quot;: \&quot;no-cache, no-store, max-age=0, must-revalidate\&quot;,\n  \&quot;pragma\&quot;: \&quot;no-cache\&quot;,\n  \&quot;expires\&quot;: \&quot;0\&quot;,\n  \&quot;x-frame-options\&quot;: \&quot;DENY\&quot;\n}\nBody: {\n  \&quot;message\&quot; : \&quot;Action not permitted. Message: `Your current free account CreateInbox feature limit MONTHLY_COUNT has been exceeded. Upgrade your account to increase usage and abilities. Current value = &gt;= 50. Plan limit = 50`. Please upgrade your account. View your account dashboard at https://app.mailslurp.com/login/. For more usage see pricing page . For more help contact support on contact@mailslurp.dev\&quot;,\n  \&quot;caseNumber\&quot; : \&quot;CASE-NF-ddbec0f9-6f43-47e2-897f-181ca269a4e8\&quot;,\n  \&quot;errorClass\&quot; : \&quot;Error426UpgradeRequired\&quot;,\n  \&quot;errorCode\&quot; : \&quot;E_001_UNEXPECTED_ERROR\&quot;,\n  \&quot;userId\&quot; : null,\n  \&quot;path\&quot; : \&quot;/inboxes\&quot;,\n  \&quot;method\&quot; : \&quot;POST\&quot;,\n  \&quot;comment\&quot; : \&quot;If your error persists please submit a ticket at `https://www.mailslurp.com/support/`. Please include your error `caseNumber` if available to help support debug the issue. Sharing screenshots or samples of your code will help the team understand.\&quot;\n}\n\n\nhttps://on.cypress.io/request&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed on:\n\nhttps://api.mailslurp.com/inboxes\n\nThe response we received from your web server was:\n\n  &gt; 426: Upgrade Required\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: https://api.mailslurp.com/inboxes\nHeaders: {\n  \&quot;Connection\&quot;: \&quot;keep-alive\&quot;,\n  \&quot;x-api-key\&quot;: \&quot;b1a03a68dcbc3d30c44e6ac4fa4f3139e46bc2d7c03b78163d3c5b33b5688363\&quot;,\n  \&quot;user-agent\&quot;: \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/13.6.4 Chrome/114.0.5735.289 Electron/25.8.4 Safari/537.36\&quot;,\n  \&quot;accept\&quot;: \&quot;*/*\&quot;,\n  \&quot;accept-encoding\&quot;: \&quot;gzip, deflate\&quot;,\n  \&quot;content-length\&quot;: 0\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 426 - Upgrade Required\nHeaders: {\n  \&quot;date\&quot;: \&quot;Thu, 29 Feb 2024 18:38:59 GMT\&quot;,\n  \&quot;content-type\&quot;: \&quot;text/plain;charset=UTF-8\&quot;,\n  \&quot;content-length\&quot;: \&quot;892\&quot;,\n  \&quot;connection\&quot;: \&quot;keep-alive\&quot;,\n  \&quot;vary\&quot;: \&quot;Origin, Access-Control-Request-Method, Access-Control-Request-Headers\&quot;,\n  \&quot;x-xss-protection\&quot;: \&quot;1; mode=block\&quot;,\n  \&quot;referrer-policy\&quot;: \&quot;same-origin\&quot;,\n  \&quot;strict-transport-security\&quot;: \&quot;max-age=63072000; includeSubdomains; preload\&quot;,\n  \&quot;x-content-type-options\&quot;: \&quot;nosniff\&quot;,\n  \&quot;content-security-policy\&quot;: \&quot;default-src https: &#x27;self&#x27; app.mailslurp.com *.mailslurp.com *.mailslurp.link *.mailslurp.dev http://localhost:3000; object-src none; frame-ancestors &#x27;self&#x27; app.mailslurp.com *.mailslurp.com *.mailslurp.link *.mailslurp.dev http://localhost:3000; img-src * data: &#x27;unsafe-inline&#x27;; style-src * data: &#x27;unsafe-inline&#x27;;\&quot;,\n  \&quot;cache-control\&quot;: \&quot;no-cache, no-store, max-age=0, must-revalidate\&quot;,\n  \&quot;pragma\&quot;: \&quot;no-cache\&quot;,\n  \&quot;expires\&quot;: \&quot;0\&quot;,\n  \&quot;x-frame-options\&quot;: \&quot;DENY\&quot;\n}\nBody: {\n  \&quot;message\&quot; : \&quot;Action not permitted. Message: `Your current free account CreateInbox feature limit MONTHLY_COUNT has been exceeded. Upgrade your account to increase usage and abilities. Current value = &gt;= 50. Plan limit = 50`. Please upgrade your account. View your account dashboard at https://app.mailslurp.com/login/. For more usage see pricing page . For more help contact support on contact@mailslurp.dev\&quot;,\n  \&quot;caseNumber\&quot; : \&quot;CASE-NF-ddbec0f9-6f43-47e2-897f-181ca269a4e8\&quot;,\n  \&quot;errorClass\&quot; : \&quot;Error426UpgradeRequired\&quot;,\n  \&quot;errorCode\&quot; : \&quot;E_001_UNEXPECTED_ERROR\&quot;,\n  \&quot;userId\&quot; : null,\n  \&quot;path\&quot; : \&quot;/inboxes\&quot;,\n  \&quot;method\&quot; : \&quot;POST\&quot;,\n  \&quot;comment\&quot; : \&quot;If your error persists please submit a ticket at `https://www.mailslurp.com/support/`. Please include your error `caseNumber` if available to help support debug the issue. Sharing screenshots or samples of your code will help the team understand.\&quot;\n}\n\n\nhttps://on.cypress.io/request\n    at &lt;unknown&gt; (http://localhost:5173/__cypress/runner/cypress_runner.js:133028:72)\n    at tryCatcher (http://localhost:5173/__cypress/runner/cypress_runner.js:1807:23)\n    at Promise._settlePromiseFromHandler (http://localhost:5173/__cypress/runner/cypress_runner.js:1519:31)\n    at Promise._settlePromise (http://localhost:5173/__cypress/runner/cypress_runner.js:1576:18)\n    at Promise._settlePromise0 (http://localhost:5173/__cypress/runner/cypress_runner.js:1621:10)\n    at Promise._settlePromises (http://localhost:5173/__cypress/runner/cypress_runner.js:1701:18)\n    at _drainQueueStep (http://localhost:5173/__cypress/runner/cypress_runner.js:2407:12)\n    at _drainQueue (http://localhost:5173/__cypress/runner/cypress_runner.js:2400:9)\n    at Async._drainQueues (http://localhost:5173/__cypress/runner/cypress_runner.js:2416:5)\n    at Async.drainQueues (http://localhost:5173/__cypress/runner/cypress_runner.js:2286:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://ware-ring-test/./cypress/e2e/Auth/Verifyemail.cy.js:9:7)&quot;},&quot;uuid&quot;:&quot;2090a7de-e403-4c2c-bf23-d4f59bd7381e&quot;,&quot;parentUUID&quot;:&quot;ca522a95-b674-4cd5-b08a-af5bcbd03ce7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;2090a7de-e403-4c2c-bf23-d4f59bd7381e&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1364,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.0.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:null,&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;WareRing-AutomateTest&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\computer\\Desktop\\Ware-Ring\\WareRing-AutomateTest\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\computer\\Desktop\\Ware-Ring\\WareRing-AutomateTest\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>